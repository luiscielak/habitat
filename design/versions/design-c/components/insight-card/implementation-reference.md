# Insight Card - Implementation Reference

## Swift Implementation

**File:** `ios/Habitat/Habitat/Views/Components/InsightCard.swift`

## Overview

Displays coaching insights and recommendations based on habit patterns. Shows category icon, message, and related habits.

## Key Features

- Category-based icon and color
- Coaching message text
- Related habits list (optional)
- Glass effect background

## Design Decisions Implemented

### Layout
- **Structure:** HStack with icon left, content center, Spacer right
- **Alignment:** Top-aligned for multi-line messages
- **Spacing:** 12pt between icon and content

### Icon
- **Size:** 32×32pt
- **Category Colors:**
  - Pattern: Blue
  - Correlation: Purple
  - Encouragement: Green
  - Warning: Orange
- **Font:** `.title2` (20pt)

### Content
- **Message:** Primary text, `.subheadline` (14pt)
- **Related Habits:** Secondary text, `.caption` (12pt), joined with " • "
- **Text Wrapping:** `fixedSize(horizontal: false, vertical: true)`

### Background
- **Material:** `.ultraThinMaterial` for glass effect
- **Corner Radius:** 16pt
- **Shadow:** Subtle shadow for depth
- **Padding:** 16pt

## Design Tokens Applied

- **Typography:**
  - Message: `.subheadline` (14pt, weight 400)
  - Related habits: `.caption` (12pt, weight 400)
- **Spacing:**
  - Icon to content: 12pt
  - Internal spacing: 4pt
  - Padding: 16pt
- **Colors:**
  - Message text: `.primary`
  - Related habits: `.secondary`
  - Category icons: Semantic colors (blue, purple, green, orange)
- **Materials:**
  - Background: `.ultraThinMaterial`
- **Border Radius:**
  - Container: 16pt

## Related Design Files

- **Component Gallery:** `../html/component-gallery.html`
- **Mobile UI Design:** `../html/mobile-ui-design.html` (Home View section)

## Implementation Notes

- Used in HomeView for coaching responses
- Temporarily removed from DailyView (commented out)
- Categories defined in `InsightCategory` enum
- Messages generated by `InsightEngine` or `HomeView.mockCoachingResponse()`

## Related Swift Files

- `ios/Habitat/Habitat/Models/InsightRule.swift` - Insight data model
- `ios/Habitat/Habitat/Services/InsightEngine.swift` - Pattern detection
- `ios/Habitat/Habitat/Views/HomeView.swift` - Uses InsightCard
